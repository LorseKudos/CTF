from hashlib import sha256
import os

def hash(x, n):
    print(x)
    for _ in range(n):
        x = sha256(x).digest()
    return x

# cnt = 0
# while True:
#     cnt += 1
#     if cnt % 100_000 == 0:
#         print(cnt)

#     msg1 = os.urandom(32)
#     msg2 = os.urandom(32)

#     hash1 = hash(msg1, 1)
#     hash2 = hash(msg2, 1)

#     if all([c1 <= c2 for c1, c2 in zip(hash1, hash2)]):
#         msg1, msg2 = msg2, msg1
#         break

#     if all([c1 >= c2 for c1, c2 in zip(hash1, hash2)]):
#         break

# print(msg1.hex(), msg2.hex())

msg1 = "11af900114d006a5e8961c99a1280f03d58a15eb3981161bd2a6bac81d64a930"
msg2 = "ae67049d2815efa6b5b915656f1620bedf7fd924f8b873a7bb35d15dfe699422"

hash1 = hash(bytes.fromhex(msg1), 1)
hash2 = hash(bytes.fromhex(msg2), 1)

sig1 = "562a35d6773867f5e5bee58a38608148fb3481da2f9be4d456bbd23e2d0373cf1e6913d0c1fe30334bfc23f36b77000fe7599ca0e59bdfe2f5f3e0d94439e1141a5d944d2b1edf1aa645a6f14f9338adda162e16f7564db808fd9e1fa39cb7e9d6cc520e39fcafc98cd65bbf8cb340ef7bf34cdd3cac6f9334d00e83feea002470780cfc0d6bcce52bf81f67f7be7990ca59ee355774391191f96e335bf7c82884b4790160bcf6792a93122d7f688940001b25385d66cec2ef92806eca7bd15a15c1fa9fd9f0c49b5332b174889a4251edae6bb835cca958a958faafef69c21b02575e2bca13d786e616b64d06b9b7f1bbf68a8fecd4b9bc6bca9ff81f9eca03139237503680f8bc9b459719d290380ef30842e091f4cf407708d4e7006dd569e928e8e9b19b860390b6ae21a15681c13069f6cb9172bde1c5cefff699384f3977295f2a90cbde6c5014bab14eb5f31f9765c1e1ab97282097b26859935972222d500b29e0145375b7dcd917de5db3e53ebde9108fe28c749a9f61efde599fbbe4dc5a6e96c817566e452bbb7a7c0b742e9903d70321ccea026cfa26c0a272662e5508cc6942424665bcd63324881ceb128dd3d6fd9f3243cd3c93364d758c85146e2abd0f6c0f2d4e65893a57c28780f512cb14b1935a4a4d6263017b29b85fac53cc9d9bb21f4f8accd8c82e752c8d4e936cd45ed9cf073c943948a07e35f557ec44527631648245b5653a2a7fb66987a74217aeb30f7579c5c0ae7077bdcfeb67b433c1dcfa2a539ea749df9f67d989bef951125799db41c42a416705f981d11f7de5d35566ff3a1d0e7a2d4d79b55afeb3967b865e7be295ff1082f69ef9a95880c81a59e1c1fc81ed4f344b4ecfbdcbbd357c7e5cffa19bfa8b40f1f8b4051e09bf552c6f03d37c545a473076d27808ddbb2292aea2ab8211871d0f34675daf2514d459eef6d78c682e78c4eab683f20357e3f20f90177509bd07a33cc63c58c74d958a01aee1f0fd7039d3ecaa18921db2c44c30fe7993ce66a2d9a2e42bbfe1d8153013de0921e32e36109e9e19ed19ea5bb6b9d58595f32ffa685e4aa47ecc730af9e4303ad23b504bab20cc8202134e72306429869cea0679ac17dabf47c8f7994491aa285dfc650abd00132c25267159c83267ddf8c680098acc01f258a0d8ee64efd70c6bcd76da019209c04ce89b97cae74976cbcebe7955aaf74401f7282cf4df8db1438eba322774d57b64c1d9954d4e4c5b3fd4291e3fd2ba0eb648a8eb1eed755e43fffc1045e29ff49d139a333350ba3d938659bf2ae73334a5cd4c74fe93f50ceb28a7d09696628b62074351c700682309f58b64cc6730b1921b1c067623d740817e8a85a303e10fbb970daa392fc9e611b3405681600187b6bcc1b13c2c6616f53036dfd3b071676e72822fd7e72e64da4349582abc38"

sig1 = bytes.fromhex(sig1)

chunks = [sig1[i:i+32] for i in range(0, len(sig1), 32)]
print(chunks)
sig2 = b''.join([hash(chunk, c1 - c2) for chunk, c1, c2 in zip(chunks, hash1, hash2)])

print(sig2.hex())
